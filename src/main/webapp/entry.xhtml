<ui:composition template="/templates/defaultTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
	<!-- Page Content -->
	<ui:param name="msg" value="#{index.msgMap[request.getQueryString()]}" />
	<ui:param name="msgIndex" value="#{index.listIndexByHref(msg.href)}" />
	<ui:define name="title">#{index.config.props["site.name"]} - #{msg.subject}</ui:define>
	<ui:define name="content">

		<!-- Title -->
		<h3 class="mt-4">
			<h:outputText value="#{msg.subject}" />
		</h3>

		<p>
			<!-- Date/Time -->
			Posted on			
			<h:outputFormat value="#{msg.createDate}">
				<f:convertDateTime dateStyle="full" type="both" />
			</h:outputFormat>

		</p>
		<!-- Post Content -->
		<p>
			<h:outputText value="#{msg.body}" escape="false" />

		</p>
		<p>
			<ui:fragment rendered="#{msgIndex gt 0}">
				<ui:param name="prevMsg" value="#{index.msgs.get(msgIndex-1)}"/>
				<a href="entry.xhtml?#{prevMsg.href}" class="btn btn-info"> <h:outputText
						value="&lt; #{prevMsg.subject}..." />
				</a>
				
			</ui:fragment>
			<ui:fragment rendered="#{msgIndex lt index.msgs.size()-1}">
				
				<ui:param name="nextMsg" value="#{index.msgs.get(msgIndex+1)}"/>
				<a href="entry.xhtml?#{nextMsg.href}" class="btn btn-info"> 
				<h:outputText
						value="#{nextMsg.subject}... &gt;" />
						
				</a>
			</ui:fragment>
		</p>
	</ui:define>
	<!-- /.container -->
</ui:composition>