<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ps="http://xmlns.jcp.org/jsf/passthrough">

	<div class="panel-heading panel-title">
		<h2 id="setupTitle">
			<i class="fa fa-id-card"></i>
			<h:outputText value="#{formTitle}" />
		</h2>
	</div>
	<div class="panel-body">

		<h:form id="profile" prependId="false">
			<h:messages layout="table" infoClass="table alert alert-success"
				errorClass="table alert alert-danger" globalOnly="false"
				id="profileForm" />


			<div class="form-group #{username.isValid()? '' : 'has-error'}">

				<input jsfc="h:inputText" class="form-control" id="username"
					binding="#{emailAddress}" value="#{bean.user.username}"
					ps:placeholder="#{res['userSettings.email']}" ps:required="true"
					ps:requiredMessage="required" />
				<h:message for="username" errorClass="form-control-label has-error" />
				<span class="help-block" jsfc="h:panelGroup"> Please enter
					valid email address username. #{setup.isSetup()}
				</span>
			</div>

			<div class="form-group #{password.isValid()? '' : 'has-error'}">

				<h:inputSecret class="form-control"
					id="password"
					 value="#{bean.user.password}"
					ps:placeholder="#{res['userSettings.password']}" ps:required="true"
					ps:requiredMessage="required">
				</h:inputSecret>
				<h:message for="password"
					errorClass="form-control-label has-error" />
				<span class="help-block" jsfc="h:panelGroup"> Your password.
				</span>
			</div>

			<div class="form-group #{folderName.isValid()? '' : 'has-error'}">

				<h:inputText class="form-control" 
				id="folderName" 
				required="true"
				value="#{bean.folderName}"
					ps:placeholder="#{res['userSettings.passwordConfirm']}"
					ps:required="true" ps:requiredMessage="required">
				</h:inputText>
				<h:message for="folderName" errorClass="control-label has-error" />
				<span class="help-block" jsfc="h:panelGroup"> The name of the
					folder containing your blog entries. </span>
			</div>




			<input type="hidden" name="action" value="#{bean.action}" />


			<br />
			<input jsfc="h:commandButton" type="submit" id="profile_save"
				value="Setup blog" class="btn btn-primary" action="#{bean.setup()}"
				rendered="#{bean.action eq 'create'}" />


		</h:form>
	</div>

</ui:composition>


